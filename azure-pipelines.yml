# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
 branches:
   include:
     - master
 paths:
   include:
     - src/*

resources:
  - repo: self

queue:
  name: Hosted VS2017
  demands: npm

steps:
  - task: Npm@1
    displayName: "npm install"
    inputs:
      verbose: false
  - task: Npm@1
    displayName: "npm run build"
    inputs:
      command: custom
      customCommand: run build
  - task: Npm@1
    displayName: "npm publish"
    inputs:
      command: publish
      verbose: false
      publishRegistry: useFeed
      publishFeed: "25162f08-da5e-4c04-bac0-40216eaa4bf9"
