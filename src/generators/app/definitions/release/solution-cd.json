{
  "name": "",
  "variables": {
    "SolutionName": { "value": "" }
  },
  "triggers": [
    {
      "artifactAlias": "",
      "triggerConditions": [
        {
          "sourceBranch": "",
          "tags": [],
          "useBuildDefinitionBranch": true,
          "createReleaseOnBuildTagging": false
        }
      ],
      "triggerType": 1
    }
  ],
  "variableGroups": [0],
  "environments": [
    {
      "name": "CI",
      "retentionPolicy": {
        "daysToKeep": 30,
        "releasesToKeep": 3,
        "retainBuild": true
      },
      "conditions": [
        {
          "name": "ReleaseStarted",
          "conditionType": "event",
          "value": ""
        }
      ],
      "preDeployApprovals": {
        "approvals": [
          {
            "rank": 1,
            "isAutomated": true,
            "isNotificationOn": false,
            "id": 1
          }
        ],
        "approvalOptions": {
          "requiredApproverCount": null,
          "releaseCreatorCanBeApprover": false,
          "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
          "enforceIdentityRevalidation": false,
          "timeoutInMinutes": 0,
          "executionOrder": "afterSuccessfulGates"
        }
      },
      "postDeployApprovals": {
        "approvals": [
          {
            "rank": 1,
            "isAutomated": true,
            "isNotificationOn": false,
            "id": 1
          }
        ]
      },
      "queueId": 0,
      "deployPhases": [
        {
          "rank": 1,
          "phaseType": 1,
          "name": "Agent job",
          "workflowTasks": [
            {
              "taskId": "04ad1c72-5e49-4686-8a3a-dda6948b0fcd",
              "version": "9.*",
              "enabled": true
            },
            {
              "taskId": "4455576d-d40a-4234-ad75-3d7ff40ec76e",
              "version": "11.*",
              "enabled": true,
              "inputs": {
                "crmConnectionString": "$(ConnectionString)",
                "solutionFile": "$(System.DefaultWorkingDirectory)/Core/Solutions/$(SolutionName)_managed.zip",
                "publishWorkflows": "false",
                "overwriteUnmanagedCustomizations": "false",
                "skipProductUpdateDependencies": "false",
                "convertToManaged": "true",
                "holdingSolution": "false",
                "override": "false",
                "useAsyncMode": "true",
                "asyncWaitTimeout": "900",
                "crmConnectionTimeout": "120"
              }
            }
          ],
          "deploymentInput": {}
        }
      ]
    }
  ],
  "artifacts": [
    {
      "alias": "",
      "definitionReference": {
        "defaultVersionType": { "id": "latestType" },
        "definition": { "id": "" },
        "project": { "id": "" }
      },
      "type": "Build"
    }
  ]
}
